{% extends "profile/profile_create_base.html" %}
    {% block content %}
    <div id="accountCreationContentContainer" data-account="patient">
        <div class="row">
            <div class="col-md-11 col-xs-12">
                {{profileName(False)}}
                <br/>
                {{profileBirthDate(False)}}
            </div>
        </div>
        <div class="form-group float-input-label profile-section" id="emailGroup">
            <label for="email">{{ _("Email Address") }}</label>
            <input type="text" class="form-control" id="email" name="email" autocomplete="off" placeholder="{{ _('Email Address') }}" value="" data-customemail="true" required />
            <div id="noEmailContainer">
                <input type="checkbox" id="noEmail" aria-label="{{_('No email')}}" class="text-muted">&nbsp;&nbsp;<span class="text-muted">{{_("User does not have email address")}}</span>
            </div>
            <div class="help-block with-errors" id="erroremail"></div>
        </div>
        {{profilePhone(False)}}
        {{profileAltPhone(False)}}
        {{profileStudyID(False)}}
        {{profileSiteID(False)}}
        {{profileConsentDate()}}
        {{profileProcedures(False, user)}}
        <div class="divider"></div>
        <div class="form-group profile-section" id="userOrgs">
            <label>{{ _("Clinics") }}</label>
            <div id="fillOrgs"></div>
            <div class="help-block with-errors get-orgs-error error-message"></div>
        </div>
    </div>
    {% endblock %}
{% block additional_scripts %}{{super()}}{% endblock %}
{% block document_ready %}
    {{super()}}
    var leafOrgs = {% if leaf_organizations %} {{leaf_organizations | safe}} {% else %} false {% endif %};
    var aco = new AccountCreationObj(
    [{'name': '{{ROLE.PATIENT}}'}, {'name': '{{ROLE.WRITE_ONLY}}'}],
    {'i18next': i18next,
    'tnthAjax': tnthAjax,
    'OrgTool': new OrgTool(),
    'leafOrgs': leafOrgs,
    'SYSTEM_IDENTIFIER_ENUM': SYSTEM_IDENTIFIER_ENUM
    });
    $(function() {
        /*** need to run this instead of the one function from main.js because we don't want to pre-check any org here ***/
        aco.getOrgs(aco.populatePatientOrgs);
    });
{% endblock %}
